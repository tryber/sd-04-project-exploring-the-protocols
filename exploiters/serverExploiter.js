const net = require("net");
const port = 3313;

const RESPONSE = `${[
  "HTTP/1.1 200 OK",
  "Content-Type: text/html; charset=UTF-8",
  "",
  '<h1 data-testid="server">SERVER EXPLOITERS</h1>',
].join("\r\n")}\r\n\r\n`;

const server = net.createServer((socket) => {
  socket.on("connect", () => {
    socket.write(RESPONSE);
  });

  socket.end();
});

server.on("error", (error) => {
  console.log(`Error: ${error.message}`);
});

server.listen(port);
